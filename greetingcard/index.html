<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
	<meta name="format-detection" content="telephone=no">
	<meta charset="utf-8">
	<link rel="stylesheet" media="(max-width:800px)" type="text/css" href="style.css">
	<script type="text/javascript" src="jquery.min.js"></script>
	<title>springday</title>
</head>
<body>
<div class="music" id="music">
	<img src="img/music_pointer.png">
	<img class="play" id="play" src="img/music_disc.png">
</div>

<div class="page" id="page1">
	<div class="bg"></div>

	<div class="p1-lantern">
		点击屏幕<br>开启新年好运
	</div>
	<div class="p1-imooc">
		
	</div>
	<div class="p1-words">
		新年快乐
	</div>
</div>

<div class="page" id="page2">
	<div class="bg"></div>
	<div class="bg2"></div>
	<div class="p2-circle"></div>
	<div class="p2-2016"></div>
</div>

<div class="page" id="page3">
	<div class="bg"></div>
	<div class="p3-logo"></div>
	<div class="p3-title"></div>
	<div class="p3-second"></div>
	<div class="p3-first"></div>
	<div class="p3-bless"></div>
</div>
<audio autoplay  src="music/ハンバート ハンバート - もったいないけど.mp3" type="audio/mpeg">	 
</audio>
</body>
<script type="text/javascript">
	var $music = $('#music');
	var $audio = $('audio');
	var audio = $('audio').get(0);

	//点击音乐图标控制音乐监听效果
	$music.on('touchstart',function(){
		console.log(1)
		if(audio.paused){
			audio.play()
			$('#play').get(0).style.animationPlayState = 'running';
			$('#play').get(0).style.webkitAnimationPlayState = 'running';
			//$('#play').addClass('play')  //兼容安卓写法
		}else{
			audio.pause()
			//$('#play').removeClass('play animation') //兼容安卓写法
			$('#play').get(0).style.animationPlayState = 'paused';
			$('#play').get(0).style.webkitAnimationPlayState = 'paused';
		}
	});

	//当音乐停止时，自动停止光盘旋转效果
	$audio.on('ended',function(){
		//$('#play').removeClass('play animation') //兼容安卓写法
			$('#play').get(0).style.animationPlayState = 'paused';
			$('#play').get(0).style.webkitAnimationPlayState = 'paused';
	});

	$lantern = $('.p1-lantern').eq(0);
	console.log($lantern)
	$lantern.on('touchstart',function(){
		console.log(2)
		$('#page1').hide()
		$('#page2').show()
		setTimeout(function(){
			$('#page2').addClass('fadeout')
			$('#page3').addClass('fadein')
		},4000)
	})
</script>
</html>